{{ define "main" }}
<div class="container">
    <div class="hero">
        <h1 class="hero__title">{{ site.Title }}</h1>
        <p class="hero__description">{{ site.Params.description }}</p>
    </div>

    <section class="posts">
        <div class="posts__header">
            <h2>Latest Posts</h2>
        </div>

        <div class="posts__grid">
            {{ range first 6 (where site.RegularPages "Section" "posts") }}
            <article class="post-card">
                <div class="post-card__content">
                    <h3 class="post-card__title">
                        <a href="{{ .Permalink }}">{{ .Title }}</a>
                    </h3>

                    <div class="post-card__meta">
                        <time datetime="{{ .Date.Format " 2006-01-02" }}">
                            {{ .Date.Format "January 2, 2006" }}
                        </time>
                        {{ if .Params.tags }}
                        <div class="post-card__tags">
                            {{ range first 3 .Params.tags }}
                            <span class="tag">{{ . }}</span>
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>

                    {{ if .Description }}
                    <p class="post-card__excerpt">{{ .Description }}</p>
                    {{ else }}
                    <p class="post-card__excerpt">{{ .Summary | truncate 150 }}</p>
                    {{ end }}

                    <a href="{{ .Permalink }}" class="post-card__link">
                        Read more â†’
                    </a>
                </div>
            </article>
            {{ end }}
        </div>

        {{ if gt (len (where site.RegularPages "Section" "posts")) 6 }}
        <div class="posts__footer">
            <a href="{{ " /posts/" | relURL }}" class="btn">View All Posts</a>
        </div>
        {{ end }}
    </section>
</div>
{{ end }}